{% extends "base.html" %}

{% block content %}
<h2>Citas programadas</h2>

<table class="table table-dark table-striped table-sm align-middle mt-4">
  <thead>
    <tr>
      <th>Fecha</th>
      <th>Hora</th>
      <th>Cliente</th>
      <th>Placa</th>
      <th>Servicios</th>
      <th>Fin estimado</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
  {% for a in appointments %}
    <tr>
      <td>{{ a.start_datetime.strftime("%Y-%m-%d") }}</td>
      <td>{{ a.start_datetime.strftime("%H:%M") }}</td>
      <td>{{ a.customer_name }}</td>
      <td>{{ a.plate or "-" }}</td>
      <td>{{ a.services }}</td>
      <td>{{ a.end_datetime.strftime("%H:%M") }}</td>
      <td>
        <a href="{{ url_for('edit_appointment', appointment_id=a.id) }}"
          class="btn btn-sm btn-outline-info me-2">
          Editar
        </a>

        <form method="post" action="{{ url_for('delete_appointment', appointment_id=a.id) }}"
              onsubmit="return confirm('Â¿Eliminar esta cita?');">
          <button class="btn btn-sm btn-outline-danger">Eliminar</button>
        </form>
      </td>
    </tr>
  {% endfor %}
  </tbody>
</table>
{% endblock %}